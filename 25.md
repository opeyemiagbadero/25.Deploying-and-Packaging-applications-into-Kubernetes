Deploy Jfrog Artifactory into Kubernetes. The best approach to easily get Artifactory into kubernetes is to use helm.

Search for an official helm chart for Artifactory on Artifact Hub

![1  Search for an official helm chart for artifactory on artifact hub](https://github.com/opeyemiagbadero/25.Deploying-and-Packaging-applications-into-Kubernetes/assets/79456052/ca426dc6-bd75-4759-a071-2ff25e1f6ffb)
click on see all result and select an official image and choose the first option from the result. Review the Artifactory page and click on the install menu on the right to see the installation commands.

![2  REview the artifactory page and click on the install menu to see the installation commands](https://github.com/opeyemiagbadero/25.Deploying-and-Packaging-applications-into-Kubernetes/assets/79456052/d906f579-5155-46cc-9865-af5b65e43cd5)

Add the jfrog remote repository on your local machine `helm repo add jfrog https://charts.jfrog.io`

Create a namespace called tools where all the tools for DevOps will be deployed. `kubectl create ns tools`

Update the helm repo index on your laptop/computer `helm repo update`

Install  artifactory `helm upgrade --install artifactory jfrog/artifactory --version 107.33.12 -n tools`

![3  Add the jfrog repository on your local machine, create a namespace called tools, update the helms repo and install artifactory](https://github.com/opeyemiagbadero/25.Deploying-and-Packaging-applications-into-Kubernetes/assets/79456052/8144a817-21cd-42e8-af00-1df3f761dba1)

```
Release "artifactory" does not exist. Installing it now.
NAME: artifactory
LAST DEPLOYED: Sat May 28 09:26:08 2022
NAMESPACE: tools
STATUS: deployed
REVISION: 1
TEST SUITE: None
NOTES:
Congratulations. You have just deployed JFrog Artifactory!

1. Get the Artifactory URL by running these commands:

   NOTE: It may take a few minutes for the LoadBalancer IP to be available.
         You can watch the status of the service by running 'kubectl get svc --namespace tools -w artifactory-artifactory-nginx'
   export SERVICE_IP=$(kubectl get svc --namespace tools artifactory-artifactory-nginx -o jsonpath='{.status.loadBalancer.ingress[0].ip}')
   echo http://$SERVICE_IP/

2. Open Artifactory in your browser
   Default credential for Artifactory:
   user: admin
   password: password
   ```
   
 The artifactory helm chart comes bundled with the Artifactory software, a PostgreSQL database and an Nginx proxy which it uses to configure routes to the different capabilities of Artifactory. Getting the pods after some time, you should see something like the below.
 
![4 1 Runn the command kubectl get pods -n tools](https://github.com/opeyemiagbadero/25.Deploying-and-Packaging-applications-into-Kubernetes/assets/79456052/9cfe6d72-0a46-48a7-995c-3e40fbdf9900)

Each of the deployed application have their respective services. This is how you will be able to reach either of them. 

![5 Each of the deployed apps have thier res  command to see thempective services   RUn kubectl get svc -n tools](https://github.com/opeyemiagbadero/25.Deploying-and-Packaging-applications-into-Kubernetes/assets/79456052/86badca8-735e-43fa-b165-e6f0f9047ef2)

Notice that, the Nginx Proxy has been configured to use the service type of LoadBalancer. Therefore, to reach Artifactory, we will need to go through the Nginx proxyâ€™s service. Which happens to be a load balancer created in the cloud provider. 

Run the kubectl command to retrieve the Load Balancer URL. `kubectl get svc artifactory-artifactory-nginx -n tools`

![6  Run the kubectl get svc my-artifactory-artifactory-nginx -n tools command to get load balancer url](https://github.com/opeyemiagbadero/25.Deploying-and-Packaging-applications-into-Kubernetes/assets/79456052/820822d4-607a-4f82-ac9f-c01e5e160f3b)

Copy the URL and paste in the browser 

![7  copy the URL and paste in the browser](https://github.com/opeyemiagbadero/25.Deploying-and-Packaging-applications-into-Kubernetes/assets/79456052/757a77d2-aa52-4f58-8426-be34710674ba)

Login using the default username and password

![8  Log in using the dfault username and passwrod given](https://github.com/opeyemiagbadero/25.Deploying-and-Packaging-applications-into-Kubernetes/assets/79456052/c5d99a80-5d87-4791-9f25-ba6d786c978b)


How the Nginx URL for Artifactory is configured in Kubernetes?
Without clicking further on the Get Started page, lets dig a bit more into Kubernetes and Helm. How did Helm configure the URL in kubernetes?

Helm uses the values.yaml file to set every single configuration that the chart has the capability to configure. THe best place to get started with an off the shelve chart from artifacthub.io is to get familiar with the DEFAULT VALUES

click on the DEFAULT VALUES section on Artifact hub 
![9  click on the default values section on Artifacft hub](https://github.com/opeyemiagbadero/25.Deploying-and-Packaging-applications-into-Kubernetes/assets/79456052/76092dd6-b569-4272-bae4-6f3de6d28c93)

Here you can search for key and value pairs 

![10 Here you can search for key and value pairs e g  type ngnix in the search bar](https://github.com/opeyemiagbadero/25.Deploying-and-Packaging-applications-into-Kubernetes/assets/79456052/aac5a7b0-34c9-4078-b49f-adc8dc298089)

For example, when you type nginx in the search bar, it shows all the configured options for the nginx proxy. 

![11  click on nginx enabled](https://github.com/opeyemiagbadero/25.Deploying-and-Packaging-applications-into-Kubernetes/assets/79456052/521e8c6e-8f2c-46ad-b183-37ec7abaead9)

selecting nginx.enabled from the list will take you directly to the configuration in the YAML file. 

![12  selecting the ngninx enabled from the list will tale you directly to the configuration in the YAML file](https://github.com/opeyemiagbadero/25.Deploying-and-Packaging-applications-into-Kubernetes/assets/79456052/08b3b094-7cad-4688-baff-ed7e7bf4db37)

Search for nginx.service and select nginx.service.type. You will see the confired type of Kubernetes service for Nginx. As you can see, it is LoadBalancer by default. To work directly with the values.yaml file, you can download the file locally by clicking on the download icon. 

![13  search for nginx service and select nginx service type You will see the confirmed type of kunernetes service for nginx, which is a loadbalancer by default](https://github.com/opeyemiagbadero/25.Deploying-and-Packaging-applications-into-Kubernetes/assets/79456052/cecd239d-7920-4b3e-9f7e-97bf2595c6bd)




























